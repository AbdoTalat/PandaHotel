@model AssignPermissionDTO
@{
    // Define entity icons
    var entityIcons = new Dictionary<string, string>
    {
        { "User", "icon-user" },
        { "Role", "icon-cogs" },
        { "Branch", "icon-location4" },
        { "Room", "icon-bed2" },
        { "RoomType", "icon-bed2" },
        { "Guest", "icon-users2" },
        { "Reservation", "icon-calendar" },
        { "Floor", "icon-office "}
    };
}
<style>
    .checkbox-container {
        display: flex; /* Align checkbox and text in a row */
        align-items: center; /* Align vertically */
        gap: 8px; /* Space between checkbox and text */
        cursor: pointer;
    }

    .checkbox-input {
        opacity: 0;
        position: absolute;
        width: 0;
        height: 0;
    }

    .checkbox-custom {
        width: 25px;
        height: 25px;
        background-color: #fff;
        border-radius: 2px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        border: solid #26A69A;
        border-width: 2px;
        position: relative; /* Ensure checkmark aligns correctly */
    }

    .checkbox-input:checked + .checkbox-custom {
        background-color: #26A69A;
        /* box-shadow: 0 1px 2px #00897B; */
    }

    .checkbox-custom::after {
        content: "";
        width: 7px;
        height: 15px;
        border: solid white;
        border-width: 0 3px 3px 0;
        transform: rotate(45deg);
        position: absolute;
        bottom: 4px; /* Adjusted for better centering */
        left: 7px;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
    }

    .checkbox-input:checked + .checkbox-custom::after {
        opacity: 1;
    }

</style>


<form asp-action="AssignPermissions" asp-controller="Role" asp-route-roleId="@Model.Id" method="post" class="ajaxEditForm">
	<div class="content">
		<h4 class="text-semibold"><i class="icon-user-lock"></i> Edit Role Permissions</h4>
		<p>Select permissions for role: <strong>@Model.RoleName</strong></p>

		@if (!Model.IsBasic)
		{
			<label><input type="checkbox" id="selectAll" /> Select All</label>
		}

		@foreach (var group in Model.PermissionGroups)
		{
			<h5><i class="icon-folder"></i> @group.Key</h5>
			<div class="row">
				@foreach (var perm in group.Value)
				{
					<div class="col-md-3">
						<label class="checkbox-inline">
							<input type="checkbox" name="permissionStrings" value="@perm.Value"
								   @(perm.IsAssigned ? "checked" : "")
								   @(Model.IsBasic ? "disabled" : "") />
							@perm.Value
						</label>
					</div>
				}
			</div>
			<hr />
		}

		<div class="text-center">
			<button type="submit" class="btn btn-primary" @(Model.IsBasic ? "disabled" : "")>
				<i class="icon-checkmark4"></i> Save
			</button>
			<button class="btn btn-default" data-dismiss="modal">Cancel</button>
		</div>
	</div>
</form>
        



<script>
    $(document).ready(function () {
        $("#selectAll").change(function () {
            let isChecked = this.checked;
            $(".checkbox-input").prop("checked", isChecked);
        });

        $(".checkbox-input").change(function () {
            let allChecked = $(".checkbox-input").length === $(".checkbox-input:checked").length;
            $("#selectAll").prop("checked", allChecked);
        });
    });


</script>

